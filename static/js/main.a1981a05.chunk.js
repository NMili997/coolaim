(this.webpackJsonpcoolaim=this.webpackJsonpcoolaim||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/login.85002715.svg"},154:function(e,t,a){e.exports=a(307)},159:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),l=(a(159),a(10)),s=a(26),m=a(132),i=a(58),u=a(59),p=a(65),d=a(68),g=(a(97),a(133)),h=a.n(g),E=a(147),v=a.n(E),b=a(310),f=a(311),w=a(313),k=a(314),j=localStorage.getItem("token"),y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",loggedIn:""},e.loggedIn=null!=j,e.onChange=function(t){return e.setState(Object(m.a)({},t.target.name,t.target.value))},e.submitForm=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;"admin"===n&&"admin"===r&&(localStorage.setItem("token","randomstringwwweaaa"),e.setState({loggedIn:!0}))},e}return Object(u.a)(a,[{key:"render",value:function(){return this.state.loggedIn&&this.props.history.push("/admin"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"header"},"Login"),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:h.a,alt:"loginPicture"})),r.a.createElement(b.a,{onSubmit:this.submitForm},r.a.createElement(b.a.Item,null,r.a.createElement(f.a,{prefix:r.a.createElement(w.a,{style:{color:"rgba(0,0,0,.25)"}}),name:"username",type:"text",placeholder:"username",value:this.state.username,onChange:this.onChange})),r.a.createElement(b.a.Item,null,r.a.createElement("br",null),r.a.createElement(f.a,{prefix:r.a.createElement(k.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"password",name:"password",value:this.state.password,onChange:this.onChange})),r.a.createElement("br",null),r.a.createElement(v.a,{tupe:"primary",onClick:this.submitForm},"Submit"))))}}]),a}(n.Component),O=a(148),I=a.n(O),x=(a(56),a(40)),S=a.n(x),N=a(64),C=a(66);var B=function(){Object(n.useEffect)((function(){c()}),[]);var e=Object(n.useState)([]),t=Object(C.a)(e,2),a=t[0],o=t[1],c=function(){var e=Object(N.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bl0gpostapi.herokuapp.com/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"buttonHit"},a.map((function(e){return r.a.createElement(l.b,{className:"linkNav",key:e._id,to:"/comment/".concat(e._id)},r.a.createElement("button",{className:"navPosts"},e.username))})))},W=a(309);var F=function(){return r.a.createElement("nav",null,r.a.createElement("h1",null,"Welcome to the page"),r.a.createElement("div",null,r.a.createElement(W.a,{size:64,icon:r.a.createElement(w.a,null)}),r.a.createElement(l.b,{to:"/logout"},r.a.createElement("button",null,"Logout"))))},L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=!0;return null==localStorage.getItem("token")&&(r=!1),n.state={loggedIn:r},n}return Object(u.a)(a,[{key:"render",value:function(){return!1===this.state.loggedIn?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(I.a,{minDeviceWidth:577},r.a.createElement(F,null),r.a.createElement(B,null)))}}]),a}(n.Component),P=a(312),_=a(94);var D=function(){return localStorage.removeItem("token"),r.a.createElement("div",{className:"Logout"},r.a.createElement(P.a,{status:"403",subTitle:"Sorry,you are not logged in"}),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/coolaim"},r.a.createElement(_.a,{style:{color:"blue"}},"Back on log in")))};var J=function(e){var t=e.match,a=localStorage.getItem("token"),o=!0,c=[];Object(n.useEffect)((function(){d()}),[]),null==a&&(o=!1);var m=Object(n.useState)({}),i=Object(C.a)(m,2),u=i[0],p=i[1],d=function(){var e=Object(N.a)(S.a.mark((function e(){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bl0gpostapi.herokuapp.com/comments?_Id=".concat(t.params.id));case 2:return a=e.sent,e.next=5,a.json();case 5:for(c in n=e.sent)p(n[c]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!1===o?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"navPosts"},r.a.createElement("div",{className:"comments"},u.body),r.a.createElement(l.b,{to:"/admin"},r.a.createElement("button",null,"Back on admin page")))};var z=function(){return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/coolaim",component:y}),r.a.createElement(s.b,{exact:!0,path:"/admin",component:L}),r.a.createElement(s.b,{exact:!0,path:"/logout",component:D}),r.a.createElement(s.b,{path:"/comment/:id",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){},97:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.a1981a05.chunk.js.map